{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/SearchBar.module.css","App.module.css"],"names":["module","exports","fetchPictures","query","page","a","axios","get","Searchbar","state","getQuery","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","collection","actionBackground","map","el","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItem_image","id","Button","action","ImageGallery","actionButton","Container","CustomLoader","Loader","color","height","width","timeout","Modal","handleKeyESC","code","onClickModal","handleModal","target","window","addEventListener","removeEventListener","openModal","Overlay","App","pictures","error","loading","currentPage","modalContent","nextPage","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","cleanData","toggleModal","prevProps","prevState","then","data","hits","catch","finally","console","log","dataset","source","Title","onClickPicture","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af13812b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1mD40\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__i86H2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1OS3J\",\"Container\":\"ImageGallery_Container__1fwWF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3t0cu\",\"Modal\":\"Modal_Modal__mhhLL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__tHT6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2KKdZ\"};","import axios from \"axios\";\n\nexport const fetchPictures = async (query, page) => {\n  return await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n","import React, { Component } from \"react\";\nimport styles from \"./SearchBar.module.css\";\n\nexport class Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  getQuery = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.getQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nexport const ImageGalleryItem = ({ collection, actionBackground }) => {\n  return collection.map((el) => (\n    <li\n      key={el.id}\n      className={styles.ImageGalleryItem}\n      onClick={actionBackground}\n    >\n      <img\n        src={el.webformatURL}\n        alt={el.tags}\n        data-source={el.largeImageURL}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  ));\n};\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nexport const Button = ({ action }) => {\n  return (\n    <button className={styles.Button} onClick={action}>\n      Load more\n    </button>\n  );\n};\n","import React from \"react\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../Button/Button\";\nimport styles from \"./ImageGallery.module.css\";\n\nexport const ImageGallery = ({\n  collection,\n  actionButton,\n  actionBackground,\n}) => {\n  return (\n    <div className={styles.Container}>\n      <ul className={styles.ImageGallery}>\n        <ImageGalleryItem\n          collection={collection}\n          actionBackground={actionBackground}\n        />\n      </ul>\n      <Button action={actionButton} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./Loader.module.css\";\n\nexport const CustomLoader = () => {\n  return (\n    <Loader\n      className={styles.Loader}\n      type=\"Rings\"\n      color=\"#00FA9A\"\n      height={800}\n      width={900}\n      timeout={3000}\n    />\n  );\n};\n","import React, { Component } from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyESC);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyESC);\n  }\n\n  handleKeyESC = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClickModal();\n    }\n  };\n\n  handleModal = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClickModal();\n    }\n  };\n\n  render() {\n    const { largeImageURL, openModal } = this.props;\n\n    return openModal ? (\n      <div className={styles.Overlay} onClick={this.handleModal}>\n        <div className={styles.Modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    ) : null;\n  }\n}\n","import React, { Component } from \"react\";\nimport styles from \"./App.module.css\";\nimport { fetchPictures } from \"./Components/API\";\nimport { Searchbar } from \"./Components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./Components/ImageGallery/ImageGallery\";\nimport { CustomLoader } from \"./Components/Loader/Loader\";\nimport { Modal } from \"./Components/Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    error: null,\n    loading: false,\n    currentPage: 1,\n    query: \"\",\n    openModal: false,\n    modalContent: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, query } = this.state;\n\n    if (prevState.currentPage !== currentPage || prevState.query !== query) {\n      if (prevState.query !== query) {\n        this.cleanData();\n      }\n\n      this.setState({ loading: true });\n      fetchPictures(query, currentPage)\n        .then((el) => {\n          this.setState((prevState) => ({\n            pictures: [...prevState.pictures, ...el.data.hits],\n          }));\n        })\n        .catch(() => {\n          this.setState({ error: \"error\" });\n        })\n        .finally(() => {\n          this.scroll();\n          this.setState({ loading: false });\n        });\n    }\n  }\n\n  nextPage = () => {\n    this.setState({ currentPage: this.state.currentPage + 1 });\n  };\n\n  handleSubmit = (value) => {\n    this.setState({ query: value });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  cleanData = () => {\n    this.setState({ pictures: [] });\n  };\n\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({\n      openModal: !openModal,\n    }));\n  };\n\n  onClickPicture(e) {\n    console.log(e.target.dataset.source);\n    // this.setState({ modalContent: e.target.dataset.source });\n    // this.toggleModal();\n  }\n\n  render() {\n    const { loading, error, pictures, query, openModal, modalContent } =\n      this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {loading && <CustomLoader />}\n        {error ? (\n          <h2 className={styles.Title}>error (ಠ_ಠ) error</h2>\n        ) : query === \"\" ? (\n          <h2 className={styles.Title}>Try to look for something 🔍</h2>\n        ) : (\n          <ImageGallery\n            collection={pictures}\n            actionButton={this.nextPage}\n            actionBackground={this.onClickPicture}\n          />\n        )}\n        <Modal\n          onClickModal={this.toggleModal}\n          largeImageURL={modalContent}\n          openModal={openModal}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__15Vgc\",\"SearchForm\":\"SearchBar_SearchForm__4gEgG\",\"SearchForm_button\":\"SearchBar_SearchForm_button__2w5Kf\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2ok0u\",\"SearchForm_input\":\"SearchBar_SearchForm_input__NrFxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__IafwV\",\"Title\":\"App_Title__3z-PF\"};"],"sourceRoot":""}