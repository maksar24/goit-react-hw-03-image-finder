{"version":3,"sources":["App.js","index.js"],"names":["fetchPictures","query","page","a","axios","get","App","state","pictures","error","loading","currentPage","getPictures","setState","data","hits","nextPage","getQuery","e","currentTarget","value","handleSubmit","preventDefault","prevProps","prevState","this","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","color","height","width","timeout","map","picture","src","webformatURL","alt","id","onClick","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kWAKMA,EAAa,uCAAG,WAAOC,EAAOC,GAAd,SAAAC,EAAA,sEACPC,IAAMC,IAAN,qCACmBJ,EADnB,iBACiCC,EADjC,gGADO,mFAAH,wDAiHJI,E,4MA1GbC,MAAQ,CACNC,SAAU,GACVC,MAAO,KACPC,SAAS,EACTC,YAAa,EACbV,MAAO,I,EAuBTW,Y,sBAAc,4BAAAT,EAAA,sEAEV,EAAKU,SAAS,CAAEH,SAAS,IAFf,SAGaV,EACrB,EAAKO,MAAMN,MACX,EAAKM,MAAMI,aALH,OAGJH,EAHI,OAOV,EAAKK,SAAS,CAAEL,SAAUA,EAASM,KAAKC,KAAML,SAAS,IAP7C,gDASV,EAAKG,SAAS,CAAEJ,MAAO,QAASC,SAAS,IAT/B,yD,EAadM,SAAW,WACT,EAAKH,SAAS,CAAEF,YAAa,EAAKJ,MAAMI,YAAc,K,EAGxDM,SAAW,SAACC,GACV,EAAKL,SAAS,CAAEZ,MAAOiB,EAAEC,cAAcC,S,EAGzCC,aAAe,SAACH,GACdA,EAAEI,iBAEF,EAAKV,e,wDA5CP,SAAmBW,EAAWC,GAAY,IAAD,OACnCA,EAAUb,cAAgBc,KAAKlB,MAAMI,aACvC,sBAAC,4BAAAR,EAAA,sEAEG,EAAKU,SAAS,CAAEH,SAAS,IAF5B,SAG0BV,EACrB,EAAKO,MAAMN,MACX,EAAKM,MAAMI,aALhB,OAGSH,EAHT,OAOG,EAAKK,SAAS,CACZL,SAAS,GAAD,mBAAMgB,EAAUhB,UAAhB,YAA6BA,EAASM,KAAKC,OACnDL,SAAS,IATd,gDAYG,EAAKG,SAAS,CAAEJ,MAAO,QAASC,SAAS,IAZ5C,wDAAD,K,oBA6CJ,WACE,MAAqCe,KAAKlB,MAAlCG,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,MAAOD,EAAxB,EAAwBA,SAExB,OACE,gCACE,wBAAQkB,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaC,SAAUF,KAAKJ,aAA5C,UACE,wBAAQO,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUP,KAAKR,gBAIpBP,GACC,cAAC,IAAD,CACEkB,KAAK,QACLK,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAGZ3B,EACC,6BAAKA,IAEL,qBAAIiB,UAAU,eAAd,UACGlB,EAAS6B,KAAI,SAACC,GAAD,OACZ,oBAAIZ,UAAU,mBAAd,SACE,qBACEa,IAAKD,EAAQE,aACbC,IAAI,GACJf,UAAU,4BAJwBY,EAAQI,OAQhD,wBAAQC,QAASlB,KAAKT,SAAtB,iC,GAnGM4B,aCNlBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.65c54aaa.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\n\nconst fetchPictures = async (query, page) => {\n  return await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    error: null,\n    loading: false,\n    currentPage: 1,\n    query: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentPage !== this.state.currentPage) {\n      (async () => {\n        try {\n          this.setState({ loading: true });\n          const pictures = await fetchPictures(\n            this.state.query,\n            this.state.currentPage\n          );\n          this.setState({\n            pictures: [...prevState.pictures, ...pictures.data.hits],\n            loading: false,\n          });\n        } catch (error) {\n          this.setState({ error: \"error\", loading: false });\n        }\n      })();\n    }\n  }\n\n  getPictures = async () => {\n    try {\n      this.setState({ loading: true });\n      const pictures = await fetchPictures(\n        this.state.query,\n        this.state.currentPage\n      );\n      this.setState({ pictures: pictures.data.hits, loading: false });\n    } catch (error) {\n      this.setState({ error: \"error\", loading: false });\n    }\n  };\n\n  nextPage = () => {\n    this.setState({ currentPage: this.state.currentPage + 1 });\n  };\n\n  getQuery = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.getPictures();\n  };\n\n  render() {\n    const { loading, error, pictures } = this.state;\n\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.getQuery}\n            />\n          </form>\n        </header>\n        {loading && (\n          <Loader\n            type=\"Rings\"\n            color=\"#00FA9A\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {error ? (\n          <h2>{error}</h2>\n        ) : (\n          <ul className=\"ImageGallery\">\n            {pictures.map((picture) => (\n              <li className=\"ImageGalleryItem\" key={picture.id}>\n                <img\n                  src={picture.webformatURL}\n                  alt=\"\"\n                  className=\"ImageGalleryItem-image\"\n                />\n              </li>\n            ))}\n            <button onClick={this.nextPage}>Load more</button>\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}