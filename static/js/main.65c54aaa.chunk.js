(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),s=a.n(c),i=(a(27),a(7)),o=a(17),u=a(18),l=a(22),h=a(21),p=a(4),d=a.n(p),b=a(5),g=(a(29),a(19)),m=a.n(g),j=a(20),f=a.n(j),x=a(2),O=function(){var e=Object(b.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pictures:[],error:null,loading:!1,currentPage:1,query:""},e.getPictures=Object(b.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,O(e.state.query,e.state.currentPage);case 4:a=t.sent,e.setState({pictures:a.data.hits,loading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({error:"error",loading:!1});case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.nextPage=function(){e.setState({currentPage:e.state.currentPage+1})},e.getQuery=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.getPictures()},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.currentPage!==this.state.currentPage&&Object(b.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,O(a.state.query,a.state.currentPage);case 4:r=e.sent,a.setState({pictures:[].concat(Object(i.a)(t.pictures),Object(i.a)(r.data.hits)),loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({error:"error",loading:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,r=e.pictures;return Object(x.jsxs)("div",{children:[Object(x.jsx)("header",{className:"Searchbar",children:Object(x.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(x.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(x.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(x.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.getQuery})]})}),t&&Object(x.jsx)(f.a,{type:"Rings",color:"#00FA9A",height:100,width:100,timeout:3e3}),a?Object(x.jsx)("h2",{children:a}):Object(x.jsxs)("ul",{className:"ImageGallery",children:[r.map((function(e){return Object(x.jsx)("li",{className:"ImageGalleryItem",children:Object(x.jsx)("img",{src:e.webformatURL,alt:"",className:"ImageGalleryItem-image"})},e.id)})),Object(x.jsx)("button",{onClick:this.nextPage,children:"Load more"})]})]})}}]),a}(r.Component);s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.65c54aaa.chunk.js.map